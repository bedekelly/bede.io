import{s as N,l as h,A as b,j as w,a as L,F as E,y as v,S as I}from"./vendor.d9dbf41c.js";const R=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerpolicy&&(i.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?i.credentials="include":e.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(e){if(e.ep)return;e.ep=!0;const i=r(e);fetch(e.href,i)}};R();const f=[2,4,6,8,10,12,20,100];function a(l){return l.reduce((t,r,n,e)=>t+r*10**(e.length-n-1),0)}function D(l){return l==="`"||l==="Tab"||l==="CapsLock"||l==="e"?0:parseInt(l,10)}function g(l){const t=l.map(D);if(t.some(r=>isNaN(r))||t.length===0)return null;if(t.length===1)return f.includes(t[0])?`1d${t[0]}`:t[0]!==0?`${t[0]}d...`:null;if(t.length===2){const[r,n]=t;if(r===0&&n===0)return"1d100";for(const e of f)if(r*10+n===e)return`1d${e}`;return f.includes(n)?`${r}d${n}`:n===1?`${r}d10`:`${r}${n}d...`}if(t.length>=3){const[r,n]=t.slice(-2),e=t.slice(0,-2);if(`${r}${n}`=="00")return e[e.length-1]===1?`${a(e.slice(0,-1))}d100`:`${a(e)}d100`;const i=parseInt(`${r}${n}`,10);if(r!==0&&f.includes(i))return`${a(e)}d${i}`;if(n===1)return`${a([...e,r])}d${10}`;if(f.includes(n))return`${a([...e,r])}d${n}`}return null}function j(l){return Math.floor(Math.random()*l)+1}function A(l){let t=l.split("+");t=t.map(n=>n.trim());let r=0;for(let n of t){const[e,i]=n.split("d").map(s=>parseInt(s,10));for(let s=0;s<e;s++)r+=j(i)}return r}function F(l){const t=N(l),[r,n]=h(l),e=b(i=>{t.current=i,n(i)},[]);return[t,r,e]}const c=w,d=L,O=E;function B(){return c("div",{className:"blink",children:"_"})}function K({children:l}){const[t,r]=l.split("=");return d("div",{className:"w-full flex my-1",children:[d("div",{className:"w-1/2 text-right",children:[t.trim()," = "]}),d("div",{className:"w-1/2",children:["\xA0",r.trim()]})]})}function M(l){return!(!l||l.includes("..."))}function S(){const[l,t]=h([]),[r,n]=h([]),[e,i,s]=F(!1);v(()=>{function m(o){const u=g(o);if(s(!1),M(u)){const x=`${A(u)}`;n(k=>[`${u} = ${x}`,...k.slice(0,10)])}return[]}function p(o){if(!o.repeat){if(o.key==="r"){s(!0);return}if(!!e.current){if(o.key==="Escape"){t([]),s(!1);return}if(o.key==="Backspace"){t(u=>u.slice(0,-1));return}if(o.key==="Enter"||o.key===" "){t(m);return}"1234567890".includes(o.key)&&t(u=>[...u,o.key])}}}function y(o){o.key==="r"&&t(m)}return document.addEventListener("keydown",p),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",y)}},[]);const $=g(l);return d("main",{className:"font-sans flex flex-col items-center content-center w-full",children:[c("h1",{className:"text-center font-bold text-5xl mt-10",children:i?d(O,{children:["Rolling: ",$,c(B,{})]}):d("div",{className:"mt-3",children:["Hold"," ",c("kbd",{className:"border border-gray-300 rounded-lg px-3 py-1",children:"r"})," ","to roll."]})}),i&&d("p",{className:"mt-8",children:["Let go to roll, or hit"," ",c("kbd",{className:"border border-gray-300 rounded-lg px-2 py-1 mx-1",children:"Esc"})," ","to cancel."]}),c("ul",{className:"flex list-none items-center flex-col text-2xl mt-10 w-full",children:r.map((m,p)=>c("li",{className:"first:mb-3 first:text-white first:font-bold text-gray-200 contents",children:c(K,{children:m})},p))})]})}I(c(S,{}),document.getElementById("app"));
